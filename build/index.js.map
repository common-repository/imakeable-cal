{"version":3,"file":"index.js","mappings":";;;;;;;;;;;;;;;AAAmD;;AAEnD;AACA;AACA;AACkD;AAClD,iBAAiB,iEAAa,CAAC,sDAAG;AAClC;AACA;AACA,CAAC,EAAE,iEAAa,CAAC,uDAAI;AACrB;AACA,CAAC;AACD,+DAAe,QAAQ,EAAC;AACxB;;;;;;;;;;;;;;;ACbmD;;AAEnD;AACA;AACA;AACkD;AAClD,aAAa,iEAAa,CAAC,sDAAG;AAC9B;AACA;AACA,CAAC,EAAE,iEAAa,CAAC,uDAAI;AACrB;AACA,CAAC;AACD,+DAAe,IAAI,EAAC;AACpB;;;;;;;;;;;;;;;ACbmD;;AAEnD;AACA;AACA;AACkD;AAClD,cAAc,iEAAa,CAAC,sDAAG;AAC/B;AACA;AACA,CAAC,EAAE,iEAAa,CAAC,uDAAI;AACrB;AACA,CAAC;AACD,+DAAe,KAAK,EAAC;AACrB;;;;;;;;;;;;;;;;;ACbe,SAASA,UAAT,OAA8B;AAAA,MAAV;AAAEC,IAAAA;AAAF,GAAU;AAC3C,QAAMC,WAAW,GAAG;AAClBC,IAAAA,KAAK,EAAE,KADW;AAElBC,IAAAA,QAAQ,EAAE,MAFQ;AAGlBC,IAAAA,SAAS,EAAE,OAHO;AAIlBC,IAAAA,YAAY,EAAE,MAJI;AAKlBC,IAAAA,eAAe,EAAE,OALC;AAMlBC,IAAAA,UAAU,EAAE,iCANM;AAOlBC,IAAAA,MAAM,EAAE;AAPU,GAApB;AAUA,QAAMC,SAAS,GAAG;AAChBD,IAAAA,MAAM,EAAE,eADQ;AAEhBE,IAAAA,SAAS,EAAE;AAFK,GAAlB;AAKA,QAAMC,OAAO,GAAGX,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEY,SAAtB;AAEA,QAAMC,GAAG,GACP,CAAAb,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEY,SAAN,MAAoB,2BAApB,GACK,6BAA4BZ,IAA7B,aAA6BA,IAA7B,uBAA6BA,IAAI,CAAEc,MAAO,iBAD9C,GAEK,+BAA8Bd,IAA/B,aAA+BA,IAA/B,uBAA+BA,IAAI,CAAEe,cAAe,iBAH1D;;AAKA,MAAIJ,OAAO,KAAK,2BAAZ,IAA2C,CAAAX,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEc,MAAN,KAAgB,KAA/D,EAAsE;AACpE,WACE;AAAK,WAAK,EAAEL;AAAZ,OACE,qGACiB,8FADjB,SACyC,+FADzC,aACuE,GADvE,EAEE,yGAFF,CADF,CADF;AAQD,GATD,MASO,IAAIE,OAAO,KAAK,yBAAZ,IAAyC,CAAAX,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEe,cAAN,KAAwB,KAArE,EAA4E;AACjF,WACE;AAAK,WAAK,EAAEN;AAAZ,OACE,qGACiB,oGADjB,SAC+C,+FAD/C,aAC6E,GAD7E,EAEE,yGAFF,CADF,EAKE,kKALF,CADF;AASD,GAVM,MAUA;AACL,WACE,+EACGT,IAAI,SAAJ,IAAAA,IAAI,WAAJ,IAAAA,IAAI,CAAEc,MAAN,GACC,kIACE,6EACE;AACE,WAAK,EAAEb,WADT;AAEE,QAAE,EAAC,YAFL;AAGE,SAAG,EAAEY,GAHP;AAIE,SAAG,EAAC,WAJN;AAKE,aAAO,EAAC;AALV,MADF,EAQE;AACE,6BAAuB,EAAE;AACvBG,QAAAA,MAAM,EAAE;AADe;AAD3B,MARF,CADF,CADD,GAkBC,iGAnBJ,CADF;AAwBD;AACF;;;;;;;;;;ACpED;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AAIA;AAEA;AAEA;AAEA,MAAMS,UAAU,GAAG,CACjB;AACEC,EAAAA,IAAI,EAAE,2BADR;AAEEC,EAAAA,SAAS,EAAE,IAFb;AAGEC,EAAAA,KAAK,EAAE,cAHT;AAIEC,EAAAA,WAAW,EAAE,mCAJf;AAKEC,EAAAA,IAAI,EAAER,wDALR;AAMES,EAAAA,UAAU,EAAE;AAAEC,IAAAA,gBAAgB,EAAE;AAApB;AANd,CADiB,EASjB;AACEN,EAAAA,IAAI,EAAE,yBADR;AAEEE,EAAAA,KAAK,EAAE,gBAFT;AAGEC,EAAAA,WAAW,EAAE,sCAHf;AAIEC,EAAAA,IAAI,EAAEP,wDAJR;AAKEQ,EAAAA,UAAU,EAAE;AAAEC,IAAAA,gBAAgB,EAAE;AAApB;AALd,CATiB,CAAnB;AAkBAf,oEAAiB,CAAC,4BAAD,EAA+B;AAC9Cc,EAAAA,UAAU,EAAE;AACVjB,IAAAA,MAAM,EAAEmB,MADE;AAEVlB,IAAAA,cAAc,EAAEkB,MAFN;AAGVrB,IAAAA,SAAS,EAAE;AACTsB,MAAAA,IAAI,EAAE,QADG;AAETC,MAAAA,OAAO,EAAE;AAFA;AAHD,GADkC;AAS/CL,EAAAA,IAAI,EAAEN,wDATyC;AAU9CY,EAAAA,IAAI,EAAE,QAAoB;AAAA,QAAnB;AAAEL,MAAAA;AAAF,KAAmB;AACxB,WACE,uEAAOb,uEAAA,EAAP,EACE,kEAAC,mDAAD;AAAY,UAAI,EAAEa;AAAlB,MADF,CADF;AAKD,GAhB6C;AAiB9CM,EAAAA,IAAI,EAAE,SAAmC;AAAA,QAAlC;AAAEN,MAAAA,UAAF;AAAcO,MAAAA;AAAd,KAAkC;AACvCjB,IAAAA,2DAAQ,CAAC;AACPkB,MAAAA,IAAI,EAAE,iCADC;AAEPC,MAAAA,MAAM,EAAE;AAFD,KAAD,CAAR,CAGGC,IAHH,CAGQ,SAAgC;AAAA,UAA/B;AAAE3B,QAAAA,MAAF;AAAUC,QAAAA;AAAV,OAA+B;AACtCuB,MAAAA,aAAa,CAAC;AAAExB,QAAAA,MAAF;AAAUC,QAAAA;AAAV,OAAD,CAAb;AACD,KALD;;AAOA,QAAI,CAACgB,UAAU,CAACnB,SAAhB,EAA2B;AACzB,aACE,yEAASM,sEAAa,EAAtB,EACE,kEAAC,uFAAD;AACE,kBAAU,EAAEO,UADd;AAEE,aAAK,EAAC,kBAFR;AAGE,gBAAQ,EAAE,YAA+B;AAAA,cAA9Bb,SAA8B,uEAAlBa,UAAU,CAAC,CAAD,CAAQ;AACvCa,UAAAA,aAAa,CAAC,EACZ,GAAG1B,SAAS,CAACmB,UADD;AAEZnB,YAAAA,SAAS,EAAEA,SAAS,CAACc;AAFT,WAAD,CAAb;AAID;AARH,QADF,CADF;AAcD;;AAED,WACE,uEAAOR,sEAAa,EAApB,EACE,kEAAC,mDAAD;AAAY,UAAI,EAAEa;AAAlB,MADF,CADF;AAKD;AA/C6C,CAA/B,CAAjB,C","sources":["webpack://imakeable-cal-plugin/./node_modules/@wordpress/icons/build-module/library/calendar.js","webpack://imakeable-cal-plugin/./node_modules/@wordpress/icons/build-module/library/page.js","webpack://imakeable-cal-plugin/./node_modules/@wordpress/icons/build-module/library/pages.js","webpack://imakeable-cal-plugin/./src/PluginBody.js","webpack://imakeable-cal-plugin/external window [\"wp\",\"apiFetch\"]","webpack://imakeable-cal-plugin/external window [\"wp\",\"blockEditor\"]","webpack://imakeable-cal-plugin/external window [\"wp\",\"blocks\"]","webpack://imakeable-cal-plugin/external window [\"wp\",\"element\"]","webpack://imakeable-cal-plugin/external window [\"wp\",\"primitives\"]","webpack://imakeable-cal-plugin/webpack/bootstrap","webpack://imakeable-cal-plugin/webpack/runtime/compat get default export","webpack://imakeable-cal-plugin/webpack/runtime/define property getters","webpack://imakeable-cal-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://imakeable-cal-plugin/webpack/runtime/make namespace object","webpack://imakeable-cal-plugin/./src/index.js"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst calendar = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z\"\n}));\nexport default calendar;\n//# sourceMappingURL=calendar.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst page = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z\"\n}));\nexport default page;\n//# sourceMappingURL=page.js.map","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst pages = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M7 13.8h6v-1.5H7v1.5zM18 16V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2zM5.5 16V4c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5zM7 10.5h8V9H7v1.5zm0-3.3h8V5.8H7v1.4zM20.2 6v13c0 .7-.6 1.2-1.2 1.2H8v1.5h11c1.5 0 2.7-1.2 2.7-2.8V6h-1.5z\"\n}));\nexport default pages;\n//# sourceMappingURL=pages.js.map","export default function PluginBody({ attr }) {\n  const iframeStyle = {\n    width: \"1px\",\n    minWidth: \"100%\",\n    minHeight: \"500px\",\n    borderRadius: \"18px\",\n    backgroundColor: \"white\",\n    transition: \"all 0.3s ease-in-out !important\",\n    border: \"none\",\n  };\n\n  const redBorder = {\n    border: \"1px solid red\",\n    textAlign: \"center\",\n  };\n\n  const variant = attr?.variation;\n\n  const URL =\n    attr?.variation === \"iMakeable_single_calendar\"\n      ? `https://cal.imakeable.com/${attr?.userID}?isEmbeded=true`\n      : `https://cal.imakeable.com/d/${attr?.organizationID}?isEmbeded=true`;\n\n  if (variant === \"iMakeable_single_calendar\" && attr?.userID == false) {\n    return (\n      <div style={redBorder}>\n        <p>\n          Uzupełnij pole <i>Your client ID</i> w <strong>Ustawienia</strong> →{\" \"}\n          <strong>iMakeable Cal plugin</strong>\n        </p>\n      </div>\n    );\n  } else if (variant === \"iMakeable_main_calendar\" && attr?.organizationID == false) {\n    return (\n      <div style={redBorder}>\n        <p>\n          Uzupełnij pole <i>Your organization ID</i> w <strong>Ustawienia</strong> →{\" \"}\n          <strong>iMakeable Cal plugin</strong>\n        </p>\n        <code>Pamiętaj, ta opcja jest dostępna tylko do użtkowników premium</code>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        {attr?.userID ? (\n          <>            \n            <p>\n              <iframe\n                style={iframeStyle}\n                id=\"meetIframe\"\n                src={URL}\n                key=\"iframe-16\"\n                sandbox=\"allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation allow-top-navigation-by-user-activation\"\n              ></iframe>\n              <script\n                dangerouslySetInnerHTML={{\n                  __html: \"iFrameResize({ checkOrigin: false }, '#meetIframe')\",\n                }}\n              />\n            </p>\n          </>\n        ) : (\n          <p>Ładowanie...</p>\n        )}\n      </div>\n    );\n  }\n}\n","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"primitives\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from \"@wordpress/blocks\";\nimport {\n  useBlockProps,\n  __experimentalBlockVariationPicker as BlockVariationPicker,\n} from \"@wordpress/block-editor\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nimport PluginBody from \"./PluginBody\";\n\nimport { page, pages, calendar } from \"@wordpress/icons\";\n\nconst variations = [\n  {\n    name: \"iMakeable_single_calendar\",\n    isDefault: true,\n    title: \"CAL - single\",\n    description: \"Kalendarz pojedyńczego pracownika\",\n    icon: page,\n    attributes: { providerNameSlug: \"iMakeable-calendar-single\" },\n  },\n  {\n    name: \"iMakeable_main_calendar\",\n    title: \"CAL - multiple\",\n    description: \"Kalendarz ze wszystkimi pracownikami\",\n    icon: pages,\n    attributes: { providerNameSlug: \"iMakeable-calendar-multiple\" },\n  },\n];\n\nregisterBlockType(\"create-block/imakeable-cal\", {\n  attributes: {\n    userID: String,\n    organizationID: String,\n    variation: {\n      type: \"string\",\n      default: \"\",\n    },\n  },\n\ticon: calendar,\n  save: ({ attributes }) => {\n    return (\n      <p {...useBlockProps.save()}>\n        <PluginBody attr={attributes} />\n      </p>\n    );\n  },\n  edit: ({ attributes, setAttributes }) => {\n    apiFetch({\n      path: \"/imakeable-cal-plugin/v1/userID\",\n      method: \"POST\",\n    }).then(({ userID, organizationID }) => {\n      setAttributes({ userID, organizationID });\n    });\n\n    if (!attributes.variation) {\n      return (\n        <div {...useBlockProps()}>\n          <BlockVariationPicker\n            variations={variations}\n            label=\"Calendar Variant\"\n            onSelect={(variation = variations[0]) => {\n              setAttributes({\n                ...variation.attributes,\n                variation: variation.name,\n              });\n            }}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <p {...useBlockProps()}>\n        <PluginBody attr={attributes} />\n      </p>\n    );\n  },\n});\n"],"names":["PluginBody","attr","iframeStyle","width","minWidth","minHeight","borderRadius","backgroundColor","transition","border","redBorder","textAlign","variant","variation","URL","userID","organizationID","__html","registerBlockType","useBlockProps","__experimentalBlockVariationPicker","BlockVariationPicker","apiFetch","page","pages","calendar","variations","name","isDefault","title","description","icon","attributes","providerNameSlug","String","type","default","save","edit","setAttributes","path","method","then"],"sourceRoot":""}